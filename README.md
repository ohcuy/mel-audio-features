# MelspectrogramFeature

### 개요
사용자의 음성을 녹음하고, 고정된 전처리 및 분석 프로세스를 거쳐 51개의 오디오 특징을 추출합니다.

리스트에서 두 개의 음성을 선택하면, 핵심 특징 6가지를 비교할 수 있습니다. 

### **수박 숙성도에 따른 음향 특징 비교표**

| 특징 (Feature) | 설명 및 측정 방법 | 잘 익은 수박 (Ripe) | 덜 익은 수박 (Unripe) |
| --- | --- | --- | --- |
| **기본 주파수** (Fundamental Frequency) | 주기적 파형의 가장 낮은 주파수. | 낮음 (Low)  | 높음 (High)  |
| **스펙트럼 중심** (Spectral Centroid) | 스펙트럼의 질량 중심 위치로, 소리의 '밝기'를 나타냄. | 낮음 (Low) | 높음 (High)  |
| **제로 크로싱 비율** (Zero-Crossing Rate) | 파형이 '0' 지점을 교차하는 횟수. | 낮음 (Low) | 높음 (High)  |
| **RMS** (Root Mean Square) | 오디오의 평균적인 소리 크기(라우드니스). | 높음 (High)  | 낮음 (Low)  |
| **엔트로피** (Entropy) | 신호의 불확실성 또는 불순도. 히스토그램을 통해 계산. | 높음 (High)  | 낮음 (Low)  |
| **서브밴드 에너지 비율** (Sub-band Energy Ratio) | 특정 주파수 대역(250Hz-3kHz와 3kHz-8kHz) 간의 에너지 비율. | 높음 (High)  | 낮음 (Low)  |

### 📝 사용 흐름 요약
1. 사용자가 녹음 버튼 탭
2. 최대 3초 동안 녹음 (자동 종료)
3. 녹음 후 mel spectrogram → MFCC + spectral + energy feature 추출
4. 51개 + 2개 = 53개 특징 저장
5. 리스트에서 두 개 선택 시, 핵심 6개 특징 비교
6. 비교 값에 따라 잘 익은 수박 / 덜 익은 수박 구별

### 1️⃣ 버전 1 문제점
**같은 소리를 들려줘도 특징 값이 달라지는 문제**

**예상 원인 분석**
1. 마이크 노이즈, 자동 게인 조절 (AGC)
2. mono/stereo 처리 차이
3. 음성 앞뒤 무음 처리의 불안정성
4. 녹음 시작/끝 타이밍 차이
5. STFT의 프레임 수 변화에 따른 통계 왜곡

### 2️⃣ 버전 2
**녹음 시간 고정** 
- 3초 이상 녹음되면 자동으로 녹음 종료 -> 분석 대상이 되는 오디오 길이를 고정함으로써 프레임 수/분석 단위의 일관성 확보
- 음성 파일 선택 후 분석 (길이 제한 없음) -> 같은 파일은 같은 특징 값이 추출됨

### 2️⃣ 버전 2 문제점
- 수박 두 개를 비교했을 때 사용자 입력 값 무음 처리가 안 되어있어 부정확

### 3️⃣ 버전 3 계획
**사용자 입력 음성 무음 제거 (Silence Trimming 개선)**
- threshold 값 조정
- sliding window 사용해 무음 감지
- 고정된 앞뒤 padding 제거량 사용 